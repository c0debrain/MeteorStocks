<head>
<title>Meteor Stocks</title>
<link rel="icon" type="image/png" href="/favicon.png">
<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- JB Dec 2014 - Added to make Bootstrap work on Android Chrome -->
<!-- 3 Dec 14 - using the package instead: meteor add mizzao:bootstrap-3
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>-->
</head>
<body>
    <!--glyphicons: http://getbootstrap.com/components -->
    <div class="container">     
    <!-- Static navbar -->
      <div class="navbar navbar-default navbar-inverse" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span> <!-- 3 bar graphic for menus on mobile -->
            </button>
          <a class="navbar-brand" href="#">Meteor Stocks</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href="#"><span class="badge"><button class="refresh">Refresh <span class="glyphicon glyphicon-refresh"></span></button></span></a></li>
            <li><a href="#"><span class="badge"><button class="location">Location <span class="glyphicon glyphicon-signal"></span></button></span></a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">More... <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="#">Services <span class="glyphicon glyphicon-paperclip"></span></a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Details</li>
                <li><a href="#"><button class="camera">About Us <span class="glyphicon glyphicon-info-sign"></span></button></a></li>
                <li><a href="#"><button class="camera">Camera <span class="glyphicon glyphicon-camera"></span></button></a></li>
                <li class="divider"></li>
                <li><a href="#">Help <span class="glyphicon glyphicon-question-sign"></span></a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div><!-- container-fluid -->
    </div><!-- navbar -->
  </div> <!-- container -->
      
<div class="container">
<header>
<!--<h1>Stock Monitor</h1>-->Bootstrap 3 with dropdowns, glyphicons and action button. Colour change on values. Async (via callback) remote server calls with CSV parsing.
Delete, single Update and Refresh enabled. Cordovo included for vibration feedback and GPS location. Camera works now too!<br><br>  
<form class="new-stock">
  <input type="text" name="text" placeholder="Stock to add" />
</form>
</header>

<!--<p id="GPS"></p> this was the pre-template way of doing it -->

<br>{{GPSLocation}}

<table class="table table-striped">
  <thead><tr><th style="text-align:left">Stock</th><th>Price</th><th>Change</th><th>%</th><th></th><th></th></tr></thead>
  <tbody>
  {{#each stocks}}
  {{> stock}}
  {{/each}}
  </tbody>
</table>

<!--
<ul>
  {{#each stocks}}
  {{> stock}}
  {{/each}}
</ul>
-->

<IMG SRC="http://www.asx.com.au/asx/widget/chart.do?asxCode=XJO&type=INDEX&" alt="<XJO Chart>"/><br><br>

<IMG SRC="https://chart.finance.yahoo.com/t?s=AUDUSD=X&width=300&height=180" alt="<Gold Chart>"/><br><br>

<img id="CordovaImage" width='90%' height='90%'/> <!-- Any photo goes here scaled to fit -->

<div class="footer">
<p>&copy; 2014 Jon Brown - version 12 Dec 2014<br>Meteor 1.0.1 / Xubuntu 14.04 / Acer C720</p>
</div>

</div>
</body>

<template name="stock">
  <tr>
  <td style="text-align:left"><button class="update">{{code}}</button></td> <!-- 12 Dec 2014 - added ability to update by clicking the stock code -->
  <td>{{last}}</td>
  <td><span class="{{getSignClass chg}}">{{chg}}</span></td>
  <td><span class="{{getSignClass chgPC}}">{{chgPC}}</span></td>
  <td><!--<button class="update"><span class="glyphicon glyphicon-repeat"></span></button> UNUSED --></td> <!-- Added an update option 3 Dec 2014, added glyph 12 Dec 2014 -->
  <td><button class="delete"><span class="glyphicon glyphicon-remove"></span></button></td> <!-- Added a delete option 3 Dec 2014, added glyph 12 Dec 2014 instead of &times; -->
<!-- Unused technique:
<td><span class="unchanged" style="color:{{getSignColour chg}}">{{chg}}</span></td> -->
  </tr>
</template>

<!--
<template name="stock">
  <li>
    <span class="text">{{code}}</span>
    <span class="text">{{last}}</span>
    <span class="text">{{chg}}</span>
    <span class="text">{{chgPC}}</span>
  </li>
</template>
-->